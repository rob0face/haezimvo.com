@if (results.length > 0) {
  <div class="card-list">
    @for (row of results; track $index) {
      <mat-card class="result-card">
        <mat-card-title>{{ row.CARRIER }}</mat-card-title>
        <mat-card-content>
          <p><strong>출발 |</strong> 대한민국 {{ row.ORIGIN_KO }}</p>
          <p><strong>도착 |</strong> {{ row.DEST_NATION_KO }} {{ row.DESTINATION_KO }}</p>
          <p><strong>20STD 운임 |</strong> {{ row.FARE_20STD }} USD</p>
          <p><strong>40HC 운임 |</strong> {{ row.FARE_40HC }} USD</p>
          <p><strong>운임 만료 |</strong> {{ row.VALID_UNTIL }}</p>
          @if (getValidFees(row).length > 0) {
            <mat-accordion>
              <mat-expansion-panel>
                <mat-expansion-panel-header>
                  <mat-panel-title>수수료 보기</mat-panel-title>
                </mat-expansion-panel-header>
                @for (fee of getValidFees(row); track $index) {
                  <p>
                    <strong>{{ fee.name }}</strong>
                    {{ fee.amount }} {{ fee.currency }} / {{ fee.unit }}
                  </p>
                }
              </mat-expansion-panel>
            </mat-accordion>
          }
        </mat-card-content>
      </mat-card>
    }
  </div>
} @else {
  <mat-card>
    <p>😢 검색 결과가 없습니다. 조건을 다시 확인해보세요.</p>
  </mat-card>
}