@if (results.length > 0) {
  <mat-card>
    <div class="table-wrapper">
      <mat-table [dataSource]="results" class="mat-elevation-z2">

      <!-- ì„ ì‚¬ -->
      <ng-container matColumnDef="ì„ ì‚¬">
        <mat-header-cell *matHeaderCellDef> ì„ ì‚¬ </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.CARRIER }} </mat-cell>
      </ng-container>

      <!-- ì¶œë°œì§€ -->
      <ng-container matColumnDef="ì¶œë°œì§€">
        <mat-header-cell *matHeaderCellDef> ì¶œë°œì§€ </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.ORIGIN }} </mat-cell>
      </ng-container>

      <!-- ë„ì°©ì§€ -->
      <ng-container matColumnDef="ë„ì°©ì§€">
        <mat-header-cell *matHeaderCellDef> ë„ì°©ì§€ </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.DESTINATION }} </mat-cell>
      </ng-container>

      <!-- 20STD ìš´ì„ -->
      <ng-container matColumnDef="20STD ìš´ì„">
        <mat-header-cell *matHeaderCellDef> 20STD ìš´ì„ </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.FARE_20STD }} </mat-cell>
      </ng-container>

      <!-- 40HC ìš´ì„ -->
      <ng-container matColumnDef="40HC ìš´ì„">
        <mat-header-cell *matHeaderCellDef> 40HC ìš´ì„ </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.FARE_40HC }} </mat-cell>
      </ng-container>

      <!-- ìš´ì„ ë§Œë£Œ -->
      <ng-container matColumnDef="ìš´ì„ ë§Œë£Œ">
        <mat-header-cell *matHeaderCellDef> ìš´ì„ ë§Œë£Œ </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.VALID_UNTIL }} </mat-cell>
      </ng-container>

      <!-- ìˆ˜ìˆ˜ë£Œ -->
      <ng-container matColumnDef="ìˆ˜ìˆ˜ë£Œ">
        <mat-header-cell *matHeaderCellDef> ìˆ˜ìˆ˜ë£Œ </mat-header-cell>
        <mat-cell *matCellDef="let row">
          @if (getValidFees(row).length > 0) {
            <mat-accordion>
              <mat-expansion-panel>
                <mat-expansion-panel-header>
                  <mat-panel-title>ë³´ê¸°</mat-panel-title>
                </mat-expansion-panel-header>
                @for (fee of getValidFees(row); track $index) {
                  <p>
                    <strong>{{ fee.name }}</strong>
                    (ë‹¨ìœ„: {{ fee.unit }})
                    {{ fee.amount }} {{ fee.currency }}
                  </p>
                }
              </mat-expansion-panel>
            </mat-accordion>
          }
        </mat-cell>
      </ng-container>

      <!-- í—¤ë”ì™€ ë¡œìš° -->
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;">
        @if (getValidFees(row).length > 0) {
            <mat-accordion>
              <mat-expansion-panel>
                <mat-expansion-panel-header>
                  <mat-panel-title>ìˆ˜ìˆ˜ë£Œ</mat-panel-title>
                </mat-expansion-panel-header>
                @for (fee of getValidFees(row); track $index) {
                  <p>
                    <strong>{{ fee.name }}</strong>
                    (ë‹¨ìœ„: {{ fee.unit }})
                    {{ fee.amount }} {{ fee.currency }}
                  </p>
                }
              </mat-expansion-panel>
            </mat-accordion>
          }
        </mat-row>
      </mat-table>
    </div>
</mat-card>
} @else {
    <mat-card>
      <p>ğŸ˜¢ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ì¡°ê±´ì„ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.</p>
    </mat-card>
}
